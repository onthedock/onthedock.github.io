<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="theme-color" content="#263238">

<meta name="generator" content="Hugo 0.132.2">

<link rel="apple-touch-icon" href="https://onthedock.github.io/images/logo.png">


<link rel="canonical" href="https://onthedock.github.io/post/240224-jq-manual-de-supervivencia/">


    
    <link href="https://fonts.googleapis.com/css?family=Special+Elite|Fira+Sans:400,700" rel="stylesheet">
    
    <title>Jq: Manual De Supervivencia - On The Dock</title>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
<script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
<script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>

    
<meta name="description" content="&lt;p&gt;El otro día &lt;a href=&#34;https://www.youtube.com/@PeladoNerd&#34;&gt;@PeladoNerd&lt;/a&gt; confesaba en este vídeo &lt;a href=&#34;https://youtu.be/CWcuNti7VR8&#34;&gt;SADSERVERS / Kihei, Unimak Island, Ivujivik (MEDIUM)&lt;/a&gt; que no entendía como funcionaba &lt;a href=&#34;https://jqlang.github.io/jq/&#34;&gt;Jq&lt;/a&gt;.Inmediatamente empaticé con su frustación; es, sin duda, un sentimiento generalizado.&lt;/p&gt;&lt;p&gt;Jq es una herramienta realmente potente; pero &amp;ldquo;con un gran poder&amp;rdquo;, llega una curva de aprendizaje muy dura.&lt;/p&gt;&lt;p&gt;Por eso me he decidido a escribir este artículo: no porque sea un super gurú de Jq, que no lo soy; pero creo que puedo aportar algo de claridad sobre la manera de &lt;em&gt;aproximarse&lt;/em&gt; a Jq evitando los problemas más habituales.&lt;/p&gt;">

<meta property="og:title" content="Jq: Manual De Supervivencia - On The Dock">
<meta property="og:type" content="article">
<meta property="og:url" content="https://onthedock.github.io/post/240224-jq-manual-de-supervivencia/">
<meta property="og:image" content="https://onthedock.github.io/images/bash.svg">
<meta property="og:site_name" content="On The Dock">
<meta property="og:description" content="&lt;p&gt;El otro día &lt;a href=&#34;https://www.youtube.com/@PeladoNerd&#34;&gt;@PeladoNerd&lt;/a&gt; confesaba en este vídeo &lt;a href=&#34;https://youtu.be/CWcuNti7VR8&#34;&gt;SADSERVERS / Kihei, Unimak Island, Ivujivik (MEDIUM)&lt;/a&gt; que no entendía como funcionaba &lt;a href=&#34;https://jqlang.github.io/jq/&#34;&gt;Jq&lt;/a&gt;.Inmediatamente empaticé con su frustación; es, sin duda, un sentimiento generalizado.&lt;/p&gt;&lt;p&gt;Jq es una herramienta realmente potente; pero &amp;ldquo;con un gran poder&amp;rdquo;, llega una curva de aprendizaje muy dura.&lt;/p&gt;&lt;p&gt;Por eso me he decidido a escribir este artículo: no porque sea un super gurú de Jq, que no lo soy; pero creo que puedo aportar algo de claridad sobre la manera de &lt;em&gt;aproximarse&lt;/em&gt; a Jq evitando los problemas más habituales.&lt;/p&gt;">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="On The Dock">
<meta name="twitter:url" content="https://onthedock.github.io/post/240224-jq-manual-de-supervivencia/">
<meta name="twitter:title" content="Jq: Manual De Supervivencia - On The Dock">
<meta name="twitter:description" content="&lt;p&gt;El otro día &lt;a href=&#34;https://www.youtube.com/@PeladoNerd&#34;&gt;@PeladoNerd&lt;/a&gt; confesaba en este vídeo &lt;a href=&#34;https://youtu.be/CWcuNti7VR8&#34;&gt;SADSERVERS / Kihei, Unimak Island, Ivujivik (MEDIUM)&lt;/a&gt; que no entendía como funcionaba &lt;a href=&#34;https://jqlang.github.io/jq/&#34;&gt;Jq&lt;/a&gt;.Inmediatamente empaticé con su frustación; es, sin duda, un sentimiento generalizado.&lt;/p&gt;&lt;p&gt;Jq es una herramienta realmente potente; pero &amp;ldquo;con un gran poder&amp;rdquo;, llega una curva de aprendizaje muy dura.&lt;/p&gt;&lt;p&gt;Por eso me he decidido a escribir este artículo: no porque sea un super gurú de Jq, que no lo soy; pero creo que puedo aportar algo de claridad sobre la manera de &lt;em&gt;aproximarse&lt;/em&gt; a Jq evitando los problemas más habituales.&lt;/p&gt;">
<meta name="twitter:image" content="https://onthedock.github.io/images/bash.svg">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https:\/\/onthedock.github.io\/"
    },
    "headline": "Jq: Manual De Supervivencia - On The Dock",
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/onthedock.github.io\/images\/bash.svg",
      "height": 800,
      "width": 800
    },
    "datePublished": "2024-02-24T10:00:27JST",
    "dateModified": "2024-02-24T10:00:27JST",
    "author": {
      "@type": "Person",
      "name": "On The Dock"
    },
    "publisher": {
      "@type": "Organization",
      "name": "On The Dock",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/onthedock.github.io\/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": "\u003cp\u003eEl otro día \u003ca href=\u0022https:\/\/www.youtube.com\/@PeladoNerd\u0022\u003e@PeladoNerd\u003c\/a\u003e confesaba en este vídeo \u003ca href=\u0022https:\/\/youtu.be\/CWcuNti7VR8\u0022\u003eSADSERVERS \/ Kihei, Unimak Island, Ivujivik (MEDIUM)\u003c\/a\u003e que no entendía como funcionaba \u003ca href=\u0022https:\/\/jqlang.github.io\/jq\/\u0022\u003eJq\u003c\/a\u003e.\nInmediatamente empaticé con su frustación; es, sin duda, un sentimiento generalizado.\u003c\/p\u003e\n\u003cp\u003eJq es una herramienta realmente potente; pero \u0026ldquo;con un gran poder\u0026rdquo;, llega una curva de aprendizaje muy dura.\u003c\/p\u003e\n\u003cp\u003ePor eso me he decidido a escribir este artículo: no porque sea un super gurú de Jq, que no lo soy; pero creo que puedo aportar algo de claridad sobre la manera de \u003cem\u003eaproximarse\u003c\/em\u003e a Jq evitando los problemas más habituales.\u003c\/p\u003e"
  }
</script>


    <style amp-custom>
      html { font-size: 18px;}@media (max-width: 768px) { html { font-size: 15px; }}body { font-family: 'Fira Sans', sans-serif; font-size: inherit; margin: 0; color: #263238;}html, body { margin: 0;}a { text-decoration: none; color: #e91e63;}p { margin: 0;}ul,ol { margin: 0; padding: 0;}h1, h2, h3, h4, h5, h6 { margin: 0; font-weight: 700;}h1 { font-size: 1.8rem; line-height: 2rem; margin: 1.5rem 0; }h2 { font-size: 1.4rem; line-height: 2rem; margin: 1.5rem 0; }h3 { font-size: 1.2rem; line-height: 1.5rem; margin: 1.5rem 0; }h4, h5, h6 { font-size: 1rem; line-height: 1.5rem; margin: 1.5rem 0; }.clearfix::after { content: ''; display: block; clear: both;}main{ display: block;}.searchbar{ display: block; border: none; margin: 1em auto; max-width: 780px; text-align: center;}/* Layouts */.l-header { padding: .5rem 0; margin-bottom: 2rem; border-bottom: 1px dashed #cfd8dc; text-align: center;}.l-footer { font-size: .8rem; padding: 1rem 0; border-top: 1px dashed #a3aaad;}.l-footer .copyright-notice,.l-footer .attribution { text-align: center; line-height: 1.5rem;}.l-container { max-width: 42rem; margin: 0 auto; padding: 0 1rem;}/* Parts:logo */.p-logo { font-family: 'Special Elite', cursive; font-weight: 700;}.p-logo a { color: #000; font-size: 1.8rem; line-height: 2rem;}.p-sublogo,.p-sublogo a { font-size: 1rem; line-height: 2rem;}img.linkedin { height: 1.1rem; border: 0; padding: 0; position: relative; top: 0.25rem;}.p-movetop { margin: 0 auto;}/* Parts:section */section { border-top: 2px solid #eceff1; padding: 1.5rem 0;}section>header { text-transform: uppercase; font-weight: 700; margin-bottom: 2rem; text-align: center;}section>header span { display: inline-block; background-color: #000; color: #fff; letter-spacing: 3px; font-size: .7rem; padding: .5rem .75rem;}/* Parts:facts */.p-facts { list-style: none; font-size: .8rem; margin-bottom: 1rem;}.p-facts:last-child { margin-bottom: 0;}.p-facts li { display: inline-block; margin-right: .5rem; text-transform: uppercase;}.p-facts li header { margin-bottom: .25rem; font-weight: 700;}.p-facts li header a { color: #000; text-decoration: underline;}.p-facts li li { display: inline-block; margin-right: .5rem;}.p-facts li li::after { content: ',';}.p-facts li li:last-child::after { content: '';}/* Parts:crumb */.p-crumb { list-style: none; margin-bottom: 1rem; font-size: .8rem; text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}.p-crumb:last-child { margin-bottom: 0;}.p-crumb li { display: inline;}.p-crumb li::after { content: '›'; margin: 0 .5rem;}.p-crumb li:last-child::after { content: '';}/* Parts:page-title */.p-page-title { margin-bottom: 2rem;}.p-page-title .title { margin-bottom: .5rem;}/* Parts:share */.p-share { margin-bottom: 1.5rem; text-align: center;}.p-share a { display: inline-block; text-align: center; padding: .5rem .5rem; margin-right: .25rem; font-size: .6rem; background-color: #eceff1; font-weight: 700;}.p-share a { color: #1da1f2; }/* Parts:terms */.p-terms { padding-left: 2rem;}/* Parts:paginator */.p-paginator { text-align: center; margin-bottom: 3rem; padding-top: 2rem;}.p-paginator a { display: inline-block; border: 2px solid #eceff1; color: #263238; line-height: 2rem; padding: 0 1rem;}/* Parts:article */.p-articles { list-style: none;}.p-articles>li { margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px dashed #cfd8dc;}.p-articles>li:last-child { border-bottom: none; padding-bottom: 0;}.p-articles.thin>li { margin-bottom: 1rem; padding-bottom: 1rem;}article .article-header { display: table-cell; height: 6rem; vertical-align: middle;}article .title { margin: 0; margin-bottom: .5rem; font-size: 1.4rem; line-height: 2rem;}article .title a { color: #000;}article .header-wrapper { margin-bottom: 1.5rem;}article .thumbnail { display: block; background-position: center; background-size: cover; background-image: url(https://onthedock.github.io/images/default.jpg); width: 6rem; height: 6rem; border-radius: 50%; box-shadow: 0 0 3px 0 #333 inset; float: left; margin-right: 1rem;}article .summary { margin-bottom: 1.5rem;}article .readmore { text-align: center;}article .readmore a { font-size: .8rem; color: #000; text-decoration: underline;}article.li.sm .header-wrapper { margin-bottom: 0;}.article-body h2 { padding: 1rem 0; color: #55bbbb; border-bottom: 2px solid #eceff1;}.article-body h2:first-child { margin-top: 0; }.article-body h3 { color: #8997e4; font-style: italic;}.article-body h4 { border-left: solid .25rem #cddc39; padding: 0 .5rem;}.article-body p { margin: 1.5rem 0; line-height: 1.5rem;}.article-body a { text-decoration: underline;}.article-body ul,.article-body ol { padding-left: 1.5rem;}.article-body li { line-height: 2rem;}.article-body code { display: inline-block; font-family: Menlo, consolas, monospace; background-color: #eceff1; font-size: .8rem; padding: 0 .5rem; line-height: 1.5rem;}.article-body pre { margin: 1.5rem 0; padding: 1.5rem; font-size: .8rem; background-color: #eeeeef; color: #444; overflow: auto;}.article-body pre code { background-color: transparent;}.article-body blockquote { /* margin: 1.2rem 0; padding: .5rem 0; */ /*font-size: .8rem;*/ border-top: 1px solid #eceff1; border-bottom: 1px solid #eceff1; color: #607d8b;}.article-body blockquote p { margin: .5rem 0; line-height: 1.5rem;}.article-body strong { /*box-shadow: 0 -.5rem 0 0 #f06292 inset;*/ font-style: bold; font-weight: 700; /*color: #ff5722; */}.article-body em { /*font-style: normal;*/ /*font-weight: 700; color: #00c300;*/ /*color: #00c300;*/ font-style: oblique;}.article-body figure { margin: 1.5rem -2rem; }.article-body figure.left,.article-body figure.right { width: 15rem; height: 12rem; margin-top: 0; margin-left: 0; margin-right: 0;}.article-body figure.left { float: left; margin-right: 1rem; margin-left: -2rem; }.article-body figure.right { float: right; margin-left: 1rem; margin-right: -2rem; }@media (max-width: 768px) { .article-body figure { margin: 1.5rem -1rem; } .article-body figure.left, .article-body figure.right { float: none; margin: 0 -1rem; width: auto; height: auto; }}.article-body figcaption { padding: .5rem 0; font-size: .8rem; text-align: center;}.article-body figcaption a { color: #263238;}

       .article-90b4e2c90aae74c7d6ca21e357351434 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-1f47f5679fe5954fad4352c57f76c8bf .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-cc4418341dd15db28079107b08fa2f18 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6c960d49ca52b80b8c57f444fa4cf1fd .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-d8543dc5019307b3f940339a16149cc7 .thumbnail { background-image: url(https://onthedock.github.io/images/vscode.png);  }  .article-b5b54f9b38af65957e557ba261c94bb0 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-4dbf54e0ed0d94e87291d489d708d373 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-09b2554acca9930f90cca1f515cded75 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-65900bcb454f7eca7bea1cf1e42eb678 .thumbnail { background-image: url(https://onthedock.github.io/images/roadmap.png);  }  .article-1caedc1394779d35cecf4e1331a48181 .thumbnail { background-image: url(https://onthedock.github.io/images/apple.png);  }  .article-490cf37627bbb8dc7d43e36dd67c2a75 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-3c7653715d401a7aa81d5257a538c60d .thumbnail { background-image: url(https://onthedock.github.io/images/vscode.png);  }  .article-3feecb09faf2ae6728d80681a8da9fc4 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-0e6a5871227ce942eac340d0a6f67a81 .thumbnail { background-image: url(https://onthedock.github.io/images/vscode.png);  }  .article-bdf7456395baabf038f21fbe14380001 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-b633e0bae89926db1b3af9894dbc7dac .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-77b85335e071b49240c3c956199226be .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-503ab9c4a32a1fd85f8dc6f591a68c42 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-7bad148ddf44083e4f5e0af2e34a634b .thumbnail { background-image: url(https://onthedock.github.io/images/k3s.png);  }  .article-e17bec26f25ac96ba9aed5a40ef478c6 .thumbnail { background-image: url(https://onthedock.github.io/images/k3s.png);  }  .article-f1120a12ca8dd05ff7add16ad6730aec .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-5f0e64ac132e87c8821f85ecc697cd8e .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-8a9f57a35daefc75b8c757a0d5875ab9 .thumbnail { background-image: url(https://onthedock.github.io/images/google-cloud.svg);  }  .article-46e152ca8a71b2415b96f17ac0fbbd1f .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-74390774ec132fb21b2ae59b4128ff58 .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-e6251be5408f4c10340c11b803c4a867 .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-c2f92c9d8759d937d215e2bf720c69b2 .thumbnail { background-image: url(https://onthedock.github.io/images/k3s.png);  }  .article-e5c89bd85f869e68d512ada281bd56cd .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-b9c72a31ef11b88e2457b3bbd3868d6a .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-22616b34f5d4453de458ccf8deb2aa2b .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-8c5726a2bf7536a1bec4638312fbd64f .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-3d2a1c6b8aea7c78e7a88375b5fc1e2f .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-001663dc3d0a468fef429912fe837f2f .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-644a3e31a0add54de550282a2d10cce7 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-34092944721510b194ef17ddb91a1379 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-890f4e07146bb53ebbba1075b2ec338e .thumbnail { background-image: url(https://onthedock.github.io/images/virtualbox.png);  }  .article-8a910c977ad420080576a17fe810b034 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-687b09437c7a0be91b9d6e1b833109df .thumbnail { background-image: url(https://onthedock.github.io/images/MabelAmber-mini.png);  }  .article-26024ed2b2223e7d0adbaf1e9db90eb2 .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-57cb07adc3f74f6eb69e2ec237c2b91f .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-a04b4f0a507931380979d71da2faf24e .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-670b427a4e5f33bfbc341b22b1da46d2 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-37375eec196c6d8fcfcc10b916cc4b58 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-54f8d821caa725905dcbd03ca02ddc2e .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-7dfc581237f95d1b2882e11f3ce989dc .thumbnail { background-image: url(https://onthedock.github.io/images/cockpit.png);  }  .article-afeb45fdbab0cdd9e82e50721acb5f97 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-de7f64393d823daa373ddfa4635b9a5a .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-92ab133b76c75d0667fc1f99e0d66c08 .thumbnail { background-image: url(https://onthedock.github.io/images/bitwarden.png);  }  .article-d3b465c120967e761bfb79a5b6393f5f .thumbnail { background-image: url(https://onthedock.github.io/images/terraform.svg);  }  .article-3a8a37f2886e7bcc74fb7ab54b2fc2be .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-4049b21733434c4a7e0fd5a7d311d3c3 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-d1a897aa33b5ff584e0c1b26ef015a0e .thumbnail { background-image: url(https://onthedock.github.io/images/vscode.png);  }  .article-ff85d4e0ad372ed26a7e5fc60ffad65d .thumbnail { background-image: url(https://onthedock.github.io/images/argocd.png);  }  .article-164c9d2b9d2c65d4b4633e6864e49f4a .thumbnail { background-image: url(https://onthedock.github.io/images/argocd.png);  }  .article-b03a45a65906613ff09f13f3f0ac0032 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-02a95cee1891bed9c0dbc604a8f5a303 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-ab3b8cba58882cb06c96ddd9e6407e80 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-ace339a7dd2506a2374010debc6076bf .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-c6c5adffce8b6b9ccd06dc1dfb537555 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-8664cf7a79475eafdd5fab6d49114ce4 .thumbnail { background-image: url(https://onthedock.github.io/images/bash.svg);  }  .article-5bb7a96e439d2c2d5ee4e2f4d837904b .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-ae2e3a2fb76ee811669977168c57b216 .thumbnail { background-image: url(https://onthedock.github.io/images/go.png);  }  .article-b4d146d3be69758158c7ba5e1b4c6f1e .thumbnail { background-image: url(https://onthedock.github.io/images/roadmap.png);  }  .article-bca037eb2cd3e38d22b6f74762c2750e .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-0578e7528b603983832d5af39529b980 .thumbnail { background-image: url(https://onthedock.github.io/images/markdown.png);  }  .article-0a279e215e31bba639faba7cd0520aba .thumbnail { background-image: url(https://onthedock.github.io/images/markdown.png);  }  .article-68651817495579ef38e81a9f382aebff .thumbnail { background-image: url(https://onthedock.github.io/images/longhorn.png);  }  .article-e61e51c57efe80bfb98e745d66a2270c .thumbnail { background-image: url(https://onthedock.github.io/images/k3s.png);  }  .article-a20d3156f16bf2266d41fa4fccd1125c .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-99d0ad9c24da44758f07c18bb18dc9de .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-b8ce86f48a7df657dee38337218d57fe .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-7ae8050779a114c257e701191d67c24b .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-f4daf1eeb6e617d087bcc2615c74e32a .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-07381984cd56baa3b537ec9aff3d7070 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-f25feebe66e0406812c11c4c42d988e9 .thumbnail { background-image: url(https://onthedock.github.io/images/mkdocs-material-logo.svg);  }  .article-c1541f1cbc09cdbdb2dd7995030b5cd5 .thumbnail { background-image: url(https://onthedock.github.io/images/mkdocs-material-logo.svg);  }  .article-791ab0d1ba321267a451cce5e775a45a .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-8a9a291a9c51f33919875c45e678ca50 .thumbnail { background-image: url(https://onthedock.github.io/images/helm.svg);  }  .article-790eb0e852215341078c03c0204640ce .thumbnail { background-image: url(https://onthedock.github.io/images/helm.svg);  }  .article-5d879b3009483f122d6d73caafdefb3b .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-21e07ae4c13fa5c61de7470b15dbcc41 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-76d7cde355b8100291f84cb2fb168ffc .thumbnail { background-image: url(https://onthedock.github.io/images/velero.jpg);  }  .article-1051ad2177cdf2e68b778fc89968e88c .thumbnail { background-image: url(https://onthedock.github.io/images/velero.jpg);  }  .article-548767e3ed7ada86775e4c85b6b6eb41 .thumbnail { background-image: url(https://onthedock.github.io/images/velero.jpg);  }  .article-ace111f0f33ff102b67a759fd91c3066 .thumbnail { background-image: url(https://onthedock.github.io/images/minio.jpg);  }  .article-06af8aeec184c848eb2cf0e795b9c0c4 .thumbnail { background-image: url(https://onthedock.github.io/images/minio.jpg);  }  .article-ac2fd5351d9eef9e4357a5d80b0a43e8 .thumbnail { background-image: url(https://onthedock.github.io/images/k3s.png);  }  .article-e6546a676240a31faca81494f2382002 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-32fa31070432a9a2d86d78f72a8244ad .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-e447bc414104c15405ae169ace8c2b29 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-38e84f875db85488c523f3257aba8fdd .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-f87949b99018c181546093186e412e32 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-fee94cef98f533fac0c5c909c2cbb884 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-56505d63d80c0cf676712e0761ce6b57 .thumbnail { background-image: url(https://onthedock.github.io/images/gitea.jpg);  }  .article-1be861ee6a7c05ba2a5776a68120327c .thumbnail { background-image: url(https://onthedock.github.io/images/traefik.png);  }  .article-6196d298c4378d228f2ab7aeacc3b954 .thumbnail { background-image: url(https://onthedock.github.io/images/links.png);  }  .article-989c3a6a94e729ffbdf9bda5f321b198 .thumbnail { background-image: url(https://onthedock.github.io/images/roadmap.png);  }  .article-b5774c1af73ca2d2b4752dba3cca3af5 .thumbnail { background-image: url(https://onthedock.github.io/images/bug.png);  }  .article-5e7a622986ce86264ec760d50d1b24dc .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-5ebb631840a278963e57bd511343a7de .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-b81d424b8eb3bb8c288fe36d23387788 .thumbnail { background-image: url(https://onthedock.github.io/images/gitea.jpg);  }  .article-0626a0be459395ce9ead913f3f08adc4 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-fcee06d4be0563afd210fdcfb47dcff0 .thumbnail { background-image: url(https://onthedock.github.io/images/virtualbox.png);  }  .article-1db77bc78e9304df7ba062b03813a3be .thumbnail { background-image: url(https://onthedock.github.io/images/virtualbox.png);  }  .article-36c4d422ca047b8a471571c76b65d6c6 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-4c8c13dd5627da332e5774b27cf40099 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6e92220fbd4bf73e9add44ea35db7875 .thumbnail { background-image: url(https://onthedock.github.io/images/cloud-init.png);  }  .article-65945fdc2f7a451d2eba88e27bcae615 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-d4ae75e268955792710fe6fdbf38a8cd .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-f875614400506b86e2eed3af9535c6f0 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-70ddbb73f4be0ef264658d45b44a1501 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-af7ce20f88530a679b64bc11f369dd66 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-749180de0a0f927ac4118d5f742aec7a .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-eabbba2a574b52017ab09aadb1e27892 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-4df08a53150d4f7d2766c8debd1831a3 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-ae823e9b9f3db0ab3a477ed5e16bcb32 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-9e165e5c05a4125a00ec1ec5048a7d4c .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-0b46f42d26003d0a8a0c0a8792e872c3 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-bf486333bdc41366eb67ebcd83df7dfd .thumbnail { background-image: url(https://onthedock.github.io/images/okd.png);  }  .article-5b04a4598c80921d43637c7023ad4877 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6548eb3cdf7ceb97a246efd3d61b22ae .thumbnail { background-image: url(https://onthedock.github.io/images/code.jpg);  }  .article-67ffd386f3fb60aa875a1b304dcbd33c .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-fdbe83149bbb772c83e8270b925cba5f .thumbnail { background-image: url(https://onthedock.github.io/images/code.jpg);  }  .article-fa396b4de84b2dfd9b95c5edfc10cc30 .thumbnail { background-image: url(https://onthedock.github.io/images/python.png);  }  .article-296c831bcc1b030d00b8ee27e96a5226 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-b2b753da998b1936d8c475787c1de07f .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-b95004b4126fa41395385c5e37f31081 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-a8fd68175b85c6ab1e57dd164e56c25e .thumbnail { background-image: url(https://onthedock.github.io/images/MabelAmber-mini.png);  }  .article-cd0ad924309bc0e2310a28f4574f3ee6 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-c4149a0be2e1a3d215d0b9dbb1340cad .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-c04747c53dc824266e9428efb65f072d .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-c6d431118f1f3fa0e4ec3e6e454bb634 .thumbnail { background-image: url(https://onthedock.github.io/images/roadmap.png);  }  .article-1ce4351c9635f2cadcc6057dd96238d9 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-8cb097c83a6ec6e1fe01c4278c8a35c6 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-22355649e0a434b67e571674216e1e54 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-23858711b322c88a48f2b2d742a36f3d .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-d92b1a0387e28368be9738f69f1aa7ce .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-98124356b113c2a6917683aca3c29a99 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-a093ac0f1b7268afeade39452595d2f1 .thumbnail { background-image: url(https://onthedock.github.io/images/bug.png);  }  .article-38834ecfa3e2f37d5a70e6884d71074a .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-932932e45567c9f06aca44ce87e2a385 .thumbnail { background-image: url(https://onthedock.github.io/images/bug.png);  }  .article-c1ca90597f186bd1ad8bb1c94f4a447a .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-765192a6c291e47974a12dcf8924d8db .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-b764fa70c94a1d2fd4fd14237d21967d .thumbnail { background-image: url(https://onthedock.github.io/images/python.png);  }  .article-f68c36fc2fb55e32944f45e490e5e5e9 .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-bd81d8ba70bc61639103fb97b7490aed .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-1c63237c8383a2e30ee2e3fcc7150643 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-c0152a70142649803b63b10edd4921d3 .thumbnail { background-image: url(https://onthedock.github.io/images/asciidoctor.png);  }  .article-396652c83bff211b566a6a3fd5bf1913 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-bde56cbd0283e6a7909a444b8e08e5c5 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-0c530d26aef03bb376ea14c3014c0325 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-0d445519a7825dfd55db94b8b9817031 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-a57735573e4d2b1c48a69a09a73878b7 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-ccf02aadbf150df00f9a2962c5cc2c32 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-b4fa6645c244835f679427bd29ec86fb .thumbnail { background-image: url(https://onthedock.github.io/images/190101/amazonlinux.png);  }  .article-1f90092555e2ba74f132561ef66df1d5 .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-702ecd15d93c0a640329570a1515ec22 .thumbnail { background-image: url(https://onthedock.github.io/images/181124/roadmap.png);  }  .article-fe261e0b7d326a141c1ff662c1caf421 .thumbnail { background-image: url(https://onthedock.github.io/images/cloud-init.png);  }  .article-2fc7b42f0ad38b1d0c3bda16184154ed .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-9a5a658f072f34635bd665eae7d0d498 .thumbnail { background-image: url(https://onthedock.github.io/images/docker-compose.jpg);  }  .article-f8770956a383aeb68930a558bae85310 .thumbnail { background-image: url(https://onthedock.github.io/images/automation.png);  }  .article-d27d7b7a4057230acbe88420832d3a67 .thumbnail { background-image: url(https://onthedock.github.io/images/gitea.jpg);  }  .article-365473b8c27877be27245e38a5feb95c .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-8da35239d2403351cd1910b3939787f6 .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-4f389af4c69dce1f727b95af66218cc0 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-b63b63041915fd06eb96d2d6b298ac9b .thumbnail { background-image: url(https://onthedock.github.io/images/sonarqube.png);  }  .article-db94723578a25efdcd1489b628ae77c9 .thumbnail { background-image: url(https://onthedock.github.io/images/sonarqube.png);  }  .article-92e6838a86f3c412b36d6abbbb0f3f77 .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-8fd0d0535b25566772d8bfcab456999e .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-9d852d24f77755909ea56d2ce72cb408 .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-015f92caa0da0be71b6008713be0e15f .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-b40404c5768e20c9cf4a0ef9b40d5d8c .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-56679bf127fa712be78799b59e8ebcbe .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-c926846ccb5ddda2e607d41a7eed1e7e .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-439d0c4b480f76cd3e4e59c497020808 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-ca9a82a3e9074b202ea71b79b8f06d72 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-5dd2fbecd3c1861b16d6ccbae8458692 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-d27ecb2023ff85d0423abc98d4d8ded4 .thumbnail { background-image: url(https://onthedock.github.io/images/portainer.png);  }  .article-82fdfab1e200b6fc1a28801ee717993c .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-ff3cf8144aa52ea6d7195126da8ce676 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-88a2b37925efc71e7f9ec017570e19f0 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-f22b7fd29e14db2fbd6cd579c2a0d5c9 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-fc9c9a2b1dcd0c5683f7adbafda8f7c8 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-a45fe2c1cdbadc45cbf34a63ab37ebcc .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-9e27e7f162c2feae804cbc006c1c9349 .thumbnail { background-image: url(https://onthedock.github.io/images/MabelAmber-mini.png);  }  .article-2a7b6b0759e163accb88c9261e4c0bbf .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-340e5d68f76888b0b8debb38ef25d46b .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-2fc73bdfb18aaf2eb89944fb4f7d53de .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-70a1a0028c7c78526f004c0e3218a2b3 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-f81b2bb759a18deaa3b5575087686fe7 .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-156dcec052e59d7d9f0de2250fda46f4 .thumbnail { background-image: url(https://onthedock.github.io/images/dokuwiki-on-docker.png);  }  .article-f831baebaad56b8e3d70750749393da3 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-df14f92fc6edab1c8632e66ef7c7e5a6 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-516ab75e14eb7886aaab03ff75dbfc6b .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-d1ead2ec3d26cb7f91ef8234915eb13f .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-0b9c6f0820f2306f6cc2bfd170dccb8e .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-1cbc9cfd0ad3798b23d19eac020b3153 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-a32274b07ce43fef61c7f19e4b68f650 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-9b0b3a180af20b5c091134d23cb6d383 .thumbnail { background-image: url(https://onthedock.github.io/images/minio.jpg);  }  .article-b20735633157cb1e57eb0c1d05406149 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-d1e335a06f765bffda53d2e123044b27 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-c36c64b9d6ce0d2c95381976831c3160 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-ee7d8acecc9de179b9d1cecb3d253215 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-2480be47fe45cfc13b07c86c32ed8cda .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-99a6578fdc273f40a61d182bcb5917c4 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-3ffff09a2dd1f953bbb8624d88756829 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-0a9cef5c4637bd946188e37439fef69c .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-42a206d287914317761f7749b964ddb2 .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-85dee6c250520e561ebc93740f1d514f .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-a65000ba68f97000bb927be3f88f75bd .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-2de6ff3b0144ea18b2ef056107448a33 .thumbnail { background-image: url(https://onthedock.github.io/images/yaml.png);  }  .article-a8aea2191f0d8d238ab6217feba51ac3 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-67cd76b76e108b6604b344e92a3c329a .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-d341a5f8cd54b9da7a3a6d1168365c25 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-59e1fe22eaedce05afe517780f87cc98 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-87ee3835fe3b255e8566c3bfed2bd38b .thumbnail { background-image: url(https://onthedock.github.io/images/portainer.png);  }  .article-086bb6242700303c8a958c5e74df0ca9 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-4c6b9124141ca1a8135b9177248b7e15 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-911698c11286b3ef9eb1a11440c09845 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-6a0861472d6f0696079c81e3710d5fe8 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-40b8655184d8e4a2ca3650aece49e845 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-857a5f627557e7d92f1386f7c6e04dee .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-4db85da082f771e8fb9029adad4173ec .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-b69159ccecf58bff548bbd08481b6e15 .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-da222607e970c37b0b59d8011a2e3398 .thumbnail { background-image: url(https://onthedock.github.io/images/portainer.png);  }  .article-7b36708a64c36890ceb1bf481f3de1fa .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-d68e08dcca5eafff4ae0d8d06280bf02 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-8ff87e4d24c357bbee842dd088ef4cde .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-d0ca4b0abe6c0c6d22baa800e3fc9935 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-63c13529eb1936073e0adc09d7e35b59 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-2e821bde62a219fe0b94f62e989269e7 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-df564c824db9099fd85c925ad9635cda .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-203d2d443889d9d70ca2ad9abcca49aa .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-526bade0815ac377e81216604b97c5f7 .thumbnail { background-image: url(https://onthedock.github.io/images/github.png);  }  .article-3d9c586728a0009cb0621b0368120462 .thumbnail { background-image: url(https://onthedock.github.io//images/hugo.png);  }  .article-160ee3ec04bb73e590f125b42640b34b .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-c862ac2fb3511b386b4247a80aa6b90b .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-8a50a2d4216b1a3b2b46c646bd24c5e9 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-f027d2889032f918da8e3cc9c03169e0 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6db4ecfe853552466ce5a71b1221a2a0 .thumbnail { background-image: url(https://onthedock.github.io/images/hypriot.png);  } 
    </style>
  </head>

  <body>
    
    <amp-analytics type="googleanalytics" id="analytics1">
      <script type="application/json">
        {
          "vars": {
            "account": "Page(\/post\/240224-jq-manual-de-supervivencia)"
          },
          "triggers": {
            "trackPageview": {
              "on": "visible",
              "request": "pageview"
            }
          }
        }
      </script>
    </amp-analytics>
    

    <header class="l-header">
      <div class="l-container">
        <div class="p-logo">
          <a href="https://onthedock.github.io/" class="p-logo">On The Dock</a>
          <p class="p-sublogo">
            
              Un blog sobre Kubernetes, Cloud, DevOps, Raspberry Pi ...
          </p>
          <p class="p-sublogo">
            por 
            <a href="https://www.linkedin.com/in/xavieraznarcampos/" target="_blank">
              Xavi Aznar 
              <img class="linkedin" src="https://onthedock.github.io//images/linkedin-logo.png" alt="Contacta con  Xavi Aznar en LinkedIn" title="Contacta con Xavi Aznar en LinkedIn">
            </a>
          </p>
        </div>
      </div>
    </header>

    <main>
      
<div class="l-container">
  <article class="single article-6c960d49ca52b80b8c57f444fa4cf1fd">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/240224-jq-manual-de-supervivencia/" class="thumbnail" title="Jq: Manual De Supervivencia"></a>
    <header class="article-header">
      <div class="clearfix">
        <h1 class="title">Jq: Manual De Supervivencia</h1>
        <ul class="p-facts">
          <li><time datetime="2024-02-24T10:00:27JST">24 Feb 2024</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
          <li>Xavi Aznar</li>
        </ul>
      </div>
    </header>
  </div>

  <div class="article-body"><p>El otro día <a href="https://www.youtube.com/@PeladoNerd">@PeladoNerd</a> confesaba en este vídeo <a href="https://youtu.be/CWcuNti7VR8">SADSERVERS / Kihei, Unimak Island, Ivujivik (MEDIUM)</a> que no entendía como funcionaba <a href="https://jqlang.github.io/jq/">Jq</a>.
Inmediatamente empaticé con su frustación; es, sin duda, un sentimiento generalizado.</p>
<p>Jq es una herramienta realmente potente; pero &ldquo;con un gran poder&rdquo;, llega una curva de aprendizaje muy dura.</p>
<p>Por eso me he decidido a escribir este artículo: no porque sea un super gurú de Jq, que no lo soy; pero creo que puedo aportar algo de claridad sobre la manera de <em>aproximarse</em> a Jq evitando los problemas más habituales.</p>
<blockquote>
<p>TL;DR: Al final de la entrada hay un resumen en formato <em>bullet points</em> <a href="#resumen-manual-de-supervivencia-para-jq">Resumen: manual de supervivencia para Jq</a></p>
</blockquote>
<h2 id="qué-es-jq">Qué es Jq</h2>
<p>Jq es una herramienta con la manipular ficheros JSON.</p>
<p>Una gran cantidad de APIs aceptan y devuelven datos en forma de ficheros JSON. Algunas bases de datos NoSQL también usan ficheros JSON&hellip; Así que antes o después, es <strong>muy probable</strong> que te encuentres en una situación en la que tengas que manipular ficheros JSON&hellip;</p>
<blockquote>
<p>@PeladoNerd es un SRE con experiencia en Kubernetes, por lo que en vez de usar un fichero JSON &ldquo;inventado&rdquo;, he decidido usar un <em>manifest</em> de un Pod (con dos contenedores) en formato JSON para los ejemplos.</p>
<p>El fichero en cuestión lo he copiado de la página de la documentación de Kubernetes <a href="https://kubernetes.io/docs/tasks/access-application-cluster/communicate-containers-same-pod-shared-volume/">Creating a Pod that runs two Containers</a> y lo he convertido a JSON usando <a href="https://onlineyamltools.com/convert-yaml-to-json">éste</a> conversor online.</p>
</blockquote>
<h2 id="cómo-ejecutar-jq">Cómo ejecutar Jq</h2>
<p>Jq obtiene el documento JSON como entrada, lo &ldquo;procesa&rdquo; y produce una salida.</p>
<blockquote>
<p>Aquí sólo voy a comentar la capacidad de Jq para filtrar un fichero y obtener, a la salida, un <em>subconjunto</em> del objeto inicial.
Jq puede hace muchas más cosas a parte de <em>filtrar</em>.</p>
</blockquote>
<p>Para procesar el fichero <code>pod.json</code>, los dos comandos mostrados a continuación son equivalentes:</p>
<ol>
<li>
<p>Usar como &ldquo;entrada&rdquo; la salida de otro comando (usando una <em>pipe</em> <code>|</code>):</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ cat pod.json | jq
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>&#34;apiVersion&#34;: &#34;v1&#34;,
</span></span><span style="display:flex;"><span>&#34;kind&#34;: &#34;Pod&#34;,
</span></span><span style="display:flex;"><span>&#34;metadata&#34;: {
</span></span><span style="display:flex;"><span>    &#34;name&#34;: &#34;two-containers&#34;,
</span></span><span style="display:flex;"><span>    ...
</span></span></code></pre></div></li>
<li>
<p>Indicar a Jq el fichero a procesar:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq . pod.json 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>&#34;apiVersion&#34;: &#34;v1&#34;,
</span></span><span style="display:flex;"><span>&#34;kind&#34;: &#34;Pod&#34;,
</span></span><span style="display:flex;"><span>&#34;metadata&#34;: {
</span></span><span style="display:flex;"><span>    &#34;name&#34;: &#34;two-containers&#34;,
</span></span><span style="display:flex;"><span>    ...
</span></span></code></pre></div></li>
</ol>
<p>Personalmente, prefiero la segunda forma porque indica claramente los tres componentes necesarios para usar Jq:</p>
<ul>
<li><code>jq</code>: 😉</li>
<li><code>.</code>: un <strong>filtro</strong> (cuando el filtro incluye espacios, debe ir entrecomillado)</li>
<li><code>pod.json</code>: el fichero que Jq usa como <em>input</em></li>
</ul>
<h3 id="primer-gotcha">Primer <em>gotcha!</em></h3>
<p>@PeladoNerd se topa con uno de los primero <em>gotchas</em> de Jq en este momento del vídeo: <a href="https://youtu.be/CWcuNti7VR8?t=492">¡completame el jq!</a>.</p>
<p>Jq requiere un filtro; esto no es evidente usándolo de la forma <code>cat ${nombre-fichero} | jq</code>, porque Jq asume como filtro <em>por defecto</em> <code>.</code>, que representa &ldquo;todo el documento&rdquo;.
Si embargo, en la forma <code>jq . ${nombre-fichero}</code>, Jq está esperando como primer parámetro un <em>filtro</em>, no un nombre de fichero; y eso hace que no funcione el <em>autocompletar</em> de la <em>shell</em>.</p>
<p>Para evitar tropezar con este comportamiento de Jq, recomiendo usar la forma <code>jq '{filtro}' ${nombre-fichero}</code>.</p>
<p>Si aceptas como entrada la salida de otro comando, incluye el <code>.</code> (aunque no sea necesario) para recordarte que <em>Jq siempre requiere un filtro</em>: <code>cat ${nombre-fichero} | jq .</code></p>
<p>La forma <code>jq '&lt;filtro&gt;' ${nombre-fichero}</code> usa únicamente Jq, mientras que usando <code>echo</code> o <code>cat</code> para <em>enviar</em> contenido a Jq dependes de la implementación de estas herramientas en el sistema operativo, así como el uso del <em>pipe</em> (<code>|</code>) de la <em>shell</em>. <a href="https://tldp.org/LDP/abs/html/internal.html"><code>echo</code></a> está implementado como un <em>builtin</em>, por lo que la implementación puede variar de un <em>shell</em> a otro.</p>
<blockquote>
<p>Yo me topé con una de estas &ldquo;pequeñas&rdquo; diferencias con <a href="https://ss64.com/bash/mktemp.html">mktemp</a>, que por algún motivo, no funciona igual en Bash que en Zsh; en particular, la opción de usar <code>-t</code> para generar ficheros temporales con un prefijo. Así que aunque creas que esas &ldquo;pequeñas diferencias&rdquo; no te afectarán nunca, confía en mí si te digo que aparecen cuando (y donde) menos te las esperas.</p>
</blockquote>
<h2 id="qué-es-un-objeto-json">Qué es un objeto JSON</h2>
<p>De la página de JSON:</p>
<blockquote>
<p>JSON (JavaScript Object Notation) es un formato ligero de intercmbio de datos. Es fácil para los humanos de leer y de escribir. Es fácil para las máquinas analizarlo (<em>parse</em>) y generarlo.</p>
</blockquote>
<p>El objeto <a href="https://www.json.org/json-en.html">JSON</a> más simple es <code>{}</code>. Todos los objetos JSON son colecciones de pares de <em>clave</em> y <em>valor</em>.</p>
<blockquote>
<p>Como en mi día a día trabajo con objetos JSON de una base de datos NoSQL &ldquo;documental&rdquo;, suelo llamar &ldquo;documento&rdquo; a los &ldquo;objetos&rdquo; JSON delimitados por <code>{</code> y <code>}</code>.</p>
</blockquote>
<p><code>[]</code> es una lista (vacía). Una <em>lista</em> es una colección ordenada de valores cuyos valores están separados por <code>,</code>. Esta lista de objetos JSON también se llama <em>array</em>.</p>
<blockquote>
<p>Jq proporciona el <a href="https://jqlang.github.io/jq/manual/#array-object-value-iterator">Array/Object Iterator</a>, que tiene la forma <code>.[]</code>; aunque está relacionados con las listas de JSON, son cosas diferentes.</p>
</blockquote>
<h3 id="jsonpath">JSONPath</h3>
<p>Quizás has usado <a href="https://kubernetes.io/docs/reference/kubectl/jsonpath/">JSONPath Support</a> en Kubernetes. La sintaxis es <strong>muy parecida</strong> a la de Jq, pero <strong>no son lo mismo</strong>.</p>
<p>El siguiente comando obtiene el valor de <code>status.capacity</code> en todos los <em>pods</em>; fíjate que usa el asterisco (<code>*</code>) en <code>.items[*]</code> para obtener la propiedad seleccionada de <em>todos los pods</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Sintaxis de JSONPath
</span></span><span style="display:flex;"><span>kubectl get pods -o=jsonpath=&#34;{.items[*][&#39;metadata.name&#39;, &#39;status.capacity&#39;]}&#34;
</span></span></code></pre></div><p>En Jq el asterisco <code>*</code> es el operador para la <a href="https://jqlang.github.io/jq/manual/#multiplication-division-modulo">multiplicación</a> y no tiene sentido usarlo en un <em>array</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Sintaxis de Jq
</span></span><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.spec.containers[*]&#39;</span> pod.json 
</span></span><span style="display:flex;"><span>jq: error: syntax error, unexpected &#39;*&#39; (Unix shell quoting issues?) at &lt;top-level&gt;, line 1:
</span></span><span style="display:flex;"><span>.spec.containers[*]
</span></span><span style="display:flex;"><span>jq: 1 compile error
</span></span></code></pre></div><h2 id="usando-jq">Usando Jq</h2>
<h3 id="el-filtro-identidad">El filtro identidad</h3>
<p>El filtro más sencillo es la <a href="https://jqlang.github.io/jq/manual/#identity">identidad</a>: <code>.</code> hace que la salida sea igual a la entrada.</p>
<blockquote>
<p>Jq formatea la salida por defecto; esto hace que el objeto JSON sea más fácil de &ldquo;leer&rdquo;:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#39;{&#34;foo&#34;:&#34;xxx&#34;,&#34;bar&#34;:&#34;yyy&#34;}&#39;</span> | jq .
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    &#34;foo&#34;: &#34;xxx&#34;,
</span></span><span style="display:flex;"><span>    &#34;bar&#34;: &#34;yyy&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></blockquote>
<h3 id="claves-y-valores">Claves y valores</h3>
<p>En el objeto del ejemplo anterior, <code>foo</code> es una <em>key</em> y <code>xxx</code> es el <em>valor</em> asociado a la <em>key</em> <code>foo</code>.</p>
<p>Las <em>keys</em> en JSON siempre son <code>string</code>, mientras que los valores pueden ser <code>string</code>, <code>number</code>, otros objetos JSON (delimitados por <code>{</code> y <code>}</code>), <code>arrays</code> (listas de objetos), <code>true</code>, <code>false</code> o <code>null</code>.</p>
<p>Podemos obtener las <code>keys</code> de un objeto mediante la función <a href="https://jqlang.github.io/jq/manual/#keys-keys_unsorted"><code>keys</code></a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;. | keys&#39;</span> pod.json 
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  &#34;apiVersion&#34;,
</span></span><span style="display:flex;"><span>  &#34;kind&#34;,
</span></span><span style="display:flex;"><span>  &#34;metadata&#34;,
</span></span><span style="display:flex;"><span>  &#34;spec&#34;
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><blockquote>
<p>Estos son los campos requeridos para que un <em>manifest</em> de Kubernetes sea válido: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/#required-fields">Required fields</a>.</p>
</blockquote>
<p>Para enlazar la salida de un filtro con una función o la salida de una función al siguiente filtro, usamos la <em>pipe</em> <code>|</code> (como en la <em>shell</em>).
En el ejemplo, pasamos la salida del filtro identidad <code>.</code> a la función de Jq <code>keys</code>, que produce un <em>array</em> con las claves del documento de entrada.</p>
<h3 id="filtrando-el-valor-de-una-clave">Filtrando el valor de una clave</h3>
<p>Empezando desde el primer nivel <code>.</code>, podemos filtrar el valor de la clave como <code>metadata</code> mediante <code>jq '.metadata' pod.json</code>.</p>
<p>Si el valor de una determinada clave es otro objeto JSON, podemos ir <em>descendiendo</em> por las <em>claves</em> del objeto concatenando las <em>keys</em> en el filtro, como en <code>jq '.spec.containers[].name' pod.json</code>.</p>
<p>Imagina que el objeto JSON es un <em>árbol</em> donde cada una de las claves es una rama.
Si queremos obtener el valor asociado a la clave <code>apiVersion</code> tenemos que <em>trazar un camino</em> desde la raíz del documento (<code>.</code>) hasta la clave; como <code>apiVersion</code> &ldquo;cuelga&rdquo; directamente de la raíz, filtramos su valor mediante <code>.apiVersion</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json
</span></span><span style="display:flex;"><span>&#34;v1&#34;
</span></span></code></pre></div><blockquote>
<p>Usaré esta analogía del &ldquo;árbol&rdquo; más adelante con imágenes generadas en el sitio web <a href="https://jsoncrack.com/editor">https://jsoncrack.com/editor</a></p>
<p>Nota: <a href="https://jsoncrack.com/editor">https://jsoncrack.com/editor</a> agrupa las <em>keys</em> que no tienen descendientes (como <code>apiVersion</code> y <code>kind</code>) y las separa de aquellas que sí los tienen (<code>metadata</code> y <code>spec</code>) en la vista <em>gráfica</em> lo que rompe un poco la analogía del &ldquo;árbol&rdquo;.</p>
</blockquote>
<h2 id="comillas">Comillas</h2>
<p>En el ejemplo anterior he usado comillas simples (<code>'</code>) para delimitar el filtro. También se pueden usar comillas dobles <code>&quot;</code>. Sin embargo, como las <em>keys</em> de los objetos JSON son cadenas delimitadas por comillas, es más cómodo usar comillas simples y no tener que <em>escapar</em> las comillas:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Usando comillas simples <span style="color:#719e07">(</span>recomendado<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span>echo &#39;{&#34;foo&#34;:&#34;xxx&#34;,&#34;bar&#34;:&#34;yyy&#34;}&#39; | jq .
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Usando comillas dobles
</span></span><span style="display:flex;"><span>echo &#34;{\&#34;foo\&#34;:\&#34;xxx\&#34;,\&#34;bar\&#34;:\&#34;yyy\&#34;}&#34; | jq .
</span></span></code></pre></div><h3 id="gotcha-con-las-comillas-de-los-valores"><em>Gotcha!</em> con las comillas de los valores</h3>
<p>El valor de <code>.apiVersion</code> es <code>&quot;v1&quot;</code>, con las comillas incluidas.</p>
<p>Yo llamo a estas comillas en Jq <em>comillas duras</em>, ya que no se comportan como unas comillas &ldquo;normales&rdquo;.</p>
<p>En Bash, puedo entrecomillar los valores de una variable, pero las comillas sólo son &ldquo;delimitadores&rdquo; (para evitar problemas con espacios en blanco y otros caracteres), pero no forman parte del valor:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Comillas normales
</span></span><span style="display:flex;"><span>$ <span style="color:#268bd2">EJEMPLO</span><span style="color:#719e07">=</span><span style="color:#2aa198">&#34;Hola mundo&#34;</span>; <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;</span><span style="color:#268bd2">$EJEMPLO</span><span style="color:#2aa198">&#34;</span>
</span></span><span style="display:flex;"><span>Hola mundo
</span></span></code></pre></div><p>Aunque tanto el valor de la variable <code>EJEMPLO</code> (<code>Hola mundo</code>) está entrecomillado y que también la variable está entrecomillada en el comando <code>echo</code>, la salida no muestra las comillas.</p>
<p>En Jq esto no es así y suele provocar problemas.</p>
<p>Considera el siguiente ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json 
</span></span><span style="display:flex;"><span>&#34;v1&#34;
</span></span><span style="display:flex;"><span>$ <span style="color:#719e07">[[</span> <span style="color:#719e07">$(</span>jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json<span style="color:#719e07">)</span> <span style="color:#719e07">==</span> <span style="color:#2aa198">&#34;v1&#34;</span> <span style="color:#719e07">]]</span> <span style="color:#719e07">||</span> <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;no son iguales&#34;</span>
</span></span><span style="display:flex;"><span>no son iguales
</span></span></code></pre></div><p>Para que el <em>test</em> se verifique, necesito incluir las comillas como parte del valor de la <em>key</em> <code>apiVersion</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ <span style="color:#719e07">[[</span> <span style="color:#719e07">$(</span>jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json<span style="color:#719e07">)</span> <span style="color:#719e07">==</span> <span style="color:#2aa198">&#34;\&#34;v1\&#34;&#34;</span> <span style="color:#719e07">]]</span> <span style="color:#719e07">||</span> <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;no son iguales&#34;</span>
</span></span><span style="display:flex;"><span>$
</span></span></code></pre></div><p>O usando comillas simples:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ <span style="color:#719e07">[[</span> <span style="color:#719e07">$(</span>jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json<span style="color:#719e07">)</span> <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;&#34;v1&#34;&#39;</span> <span style="color:#719e07">]]</span> <span style="color:#719e07">||</span> <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;no son iguales&#34;</span>
</span></span><span style="display:flex;"><span>$
</span></span></code></pre></div><blockquote>
<p>En Bash, las <a href="https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html">comillas simples</a> <em>preservan el valor literal de los caracteres dentro de las comillas</em>. Pero eso hace que no se susituyan las variables por su valor, que es lo que quieres habitualmente:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Se compara el resultado del comando Jq <span style="color:#719e07">(</span><span style="color:#2aa198">&#34;v1&#34;</span><span style="color:#719e07">)</span> con el valor de la variable <span style="color:#586e75">`</span><span style="color:#268bd2">$EXPECTED_VALUE</span><span style="color:#586e75">`</span> <span style="color:#719e07">(</span>v1<span style="color:#719e07">)</span> <span style="color:#719e07">(</span>sin comillas<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span>$ <span style="color:#268bd2">EXPECTED_VALUE</span><span style="color:#719e07">=</span><span style="color:#2aa198">&#34;v1&#34;</span> ; <span style="color:#719e07">[[</span> <span style="color:#719e07">$(</span>jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json<span style="color:#719e07">)</span> <span style="color:#719e07">==</span> <span style="color:#2aa198">&#34;</span><span style="color:#268bd2">$EXPECTED_VALUE</span><span style="color:#2aa198">&#34;</span> <span style="color:#719e07">]]</span> <span style="color:#719e07">||</span> <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;no son iguales&#34;</span> 
</span></span><span style="display:flex;"><span>no son iguales
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Se compara el resultado del comando Jq <span style="color:#719e07">(</span><span style="color:#2aa198">&#34;v1&#34;</span><span style="color:#719e07">)</span> con el literal <span style="color:#586e75">`</span><span style="color:#268bd2">$EXPECTED_VALUE</span><span style="color:#586e75">`</span>
</span></span><span style="display:flex;"><span>$ <span style="color:#268bd2">EXPECTED_VALUE</span><span style="color:#719e07">=</span><span style="color:#2aa198">&#34;v1&#34;</span> ; <span style="color:#719e07">[[</span> <span style="color:#719e07">$(</span>jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json<span style="color:#719e07">)</span> <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;$EXPECTED_VALUE&#39;</span> <span style="color:#719e07">]]</span> <span style="color:#719e07">||</span> <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;no son iguales&#34;</span>
</span></span><span style="display:flex;"><span>no son iguales
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Usando comillas dobles, debemos escapar las comillas en el valor esperado
</span></span><span style="display:flex;"><span>$ <span style="color:#268bd2">EXPECTED_VALUE</span><span style="color:#719e07">=</span><span style="color:#2aa198">&#34;\&#34;v1\&#34;&#34;</span> ; <span style="color:#719e07">[[</span> <span style="color:#719e07">$(</span>jq <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json<span style="color:#719e07">)</span> <span style="color:#719e07">==</span> <span style="color:#2aa198">&#34;</span><span style="color:#268bd2">$EXPECTED_VALUE</span><span style="color:#2aa198">&#34;</span> <span style="color:#719e07">]]</span> <span style="color:#719e07">||</span> <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;no son iguales&#34;</span>
</span></span><span style="display:flex;"><span>$
</span></span></code></pre></div></blockquote>
<p>Estas <em>comillas duras</em> siguen confundiéndome y haciendo que los <em>scripts</em> fallen más a menudo de lo que creerías; afortunadamente, Jq incluye la opción de eliminar las comillas en la salida; para ello, usa el <em>flag</em> <code>--raw-output</code> o <code>-r</code> en versión corta:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.apiVersion&#39;</span> pod.json
</span></span><span style="display:flex;"><span>v1
</span></span></code></pre></div><p>Observa como la salida no incluye las comillas.</p>
<h2 id="filtros-más-complejos">Filtros más complejos</h2>
<p>Si queremos el valor de campo <code>name</code> del Pod, tenemos que descender &ldquo;dos niveles&rdquo;:</p>
<ul>
<li>la clave <code>metadata</code> (primer nivel)</li>
<li>la clave <code>name</code> del objeto JSON resultante de filtrar la entrada inicial (todo el documento leído desde <code>pod.json</code>) y aplicar el filtro anterior (<code>.metadata</code>).</li>
</ul>
<p>Así, el filtro resultante es:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># <span style="color:#719e07">(</span>El primer filtro <span style="color:#586e75">`</span>. |<span style="color:#586e75">`</span> es opcional y normalmente, se omite<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;. | .metadata.name&#39;</span>  pod.json 
</span></span><span style="display:flex;"><span>two-containers
</span></span></code></pre></div><h2 id="pipe-interna-de-jq"><em>Pipe</em> interna de Jq</h2>
<p>Jq filtra una entrada y produce una salida; la salida de un filtro puede <em>encauzarse</em> a través de una <em>pipe</em> (<code>|</code>) y utilizarse como entrada del siguiente filtro.</p>
<p>Podemos enlazar filtros <strong>dentro</strong> de Jq o usar el  <code>|</code> de la <em>shell</em>; comprueba como los dos comandos siguientes son equivalentes:</p>
<blockquote>
<p>Podemos concatenar los filtros uno tras otro con <code>.</code>, enlazando las <em>keys</em> por las que <em>descendemos</em> en el objeto JSON (como en <code>.metadata.name</code>). Sólo es necesario usar una <em>pipe</em> interna cuando queremos pasar el resultado de un filtro a una función de Jq o viceversa.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Pipe interna de Jq <span style="color:#719e07">(</span>en este caso no es necesario usar la *pipe*<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.metadata | .name&#39;</span>  pod.json 
</span></span><span style="display:flex;"><span>two-containers
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># <span style="color:#719e07">(</span>Opción recomendada<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.metadata.name&#39;</span>  pod.json 
</span></span><span style="display:flex;"><span>two-containers
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Pipe <span style="color:#2aa198">&#34;externa&#34;</span> a Jq
</span></span><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.metadata&#39;</span> | jq -r <span style="color:#2aa198">&#39;.name&#39;</span>
</span></span><span style="display:flex;"><span>two-containers
</span></span></code></pre></div><blockquote>
<p>Observa que para que el resultado final no contenga &ldquo;comillas duras&rdquo; es necesario usar <code>-r</code> en el último comando Jq.</p>
</blockquote>
<p>Mi recomendación es concatenar los filtros siempre que sea necesario; si usamos funciones de Jq, usar la <em>pipe</em> interna; no sólo es más compacto, sino que además mantiene la estructura de <code>jq '{filtro}' ${nombre_fichero}</code>.</p>
<h2 id="errores">Errores</h2>
<p>Parte de la frustación de usar Jq es que, en mi humilde opinión, los mensajes de error son increíblemente crípticos.</p>
<p>Intenta adivinar qué puede haber causado el siguiente mensaje de error:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>jq: parse error: Invalid numeric literal at line 2, column 0
</span></span></code></pre></div><p>Y ahora la solución:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#39;&lt;html&gt;&lt;/html&gt;&#39;</span> | jq .
</span></span><span style="display:flex;"><span>jq: parse error: Invalid numeric literal at line 2, column 0
</span></span></code></pre></div><p><em>Creo</em> que el problema lo causa que Jq interpreta <code>&lt;</code> como un operador de comparación entre números (<a href="https://jqlang.github.io/jq/manual/#%3E-%3E=-%3C=-%3C">x es menor que y</a>). Antes de <code>&lt;</code> no hay nada, con lo que <em>quizás</em> lo interpreta como 0, pero <code>h</code> (el caracter que aparece después de <code>&lt;</code>) no es un valor numérico, lo que causa el error de <code>Invalid numeric literal</code>&hellip;</p>
<p>Como ves, (si mi interpretación es correcta), el mensaje de error <em>tiene sentido</em>; el problema es que no es aparente a primera vista.</p>
<blockquote>
<p>Como muchas veces el JSON que se procesa por Jq se obtiene desde una API, es <em>tentador</em> usar algo como:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># Se espera un JSON como <span style="color:#586e75">`</span><span style="color:#719e07">{</span><span style="color:#2aa198">&#34;foo&#34;</span> : <span style="color:#2aa198">&#34;bar&#34;</span><span style="color:#719e07">}</span><span style="color:#586e75">`</span>
</span></span><span style="display:flex;"><span>value=$(curl -s https://$ENDPOINT/api/ | jq -r &#39;.foo&#39;)
</span></span></code></pre></div><p>Si el token para acceder al <em>endpoint</em> ha caducado, o hay un problema cualquiera con la petición, el <em>endpoint</em> puede devolver HTML (por ejemplo, para mostrar un error <code>&lt;h1&gt;401 - &gt; Unauthorized&lt;/h1&gt;</code>). El problema es que el mensaje de error de Jq se &ldquo;guarda&rdquo; en <code>$value</code> y el <em>script</em> fallará de forma inesperada más adelante, cuando vayas a usar el valor de <code>$value</code> pensando que es <code>bar</code>.</p>
<p>La recomendación es guardar la respuesta en un fichero; verifica el código HTTP devuelto por el servidor e inspecciona el contenido del fichero para validar que contiene lo que esperas y no otra cosa.</p>
</blockquote>
<h2 id="seleccionando-valores-de-una-lista">Seleccionando valores de una lista</h2>
<p>He elegido el JSON de un Pod con dos contenedores para poder ilustrar un escenario común: el valor que nos interesa obtener está en un objeto JSON <strong>dentro</strong> de un <em>array</em>.</p>
<p>En el siguiente ejemplo queremos obtener la propiedad <code>name</code> de cada uno de los contenedores en el <em>pod</em>; como hemos visto, tenemos que ir descendiendo por las ramas del &ldquo;árbol&rdquo; del objeto JSON; hasta ahora a cada <em>key</em> le correspondía un <em>valor</em> o un objeto, con sus propias <em>keys</em>.</p>
<p>En este caso, cuando llegamos a <code>.spec.containers</code> tenemos una lista de objetos, cada uno con la clave <code>name</code> (en la que estamos interesados).</p>
<p>Para obtener la clave <code>name</code> de cada uno de los elementos del <em>array</em>, tenemos que <em>iterar</em> sobre todos ellos; Jq proporciona el operador <code>.[]</code>. Para cada uno de los elementos, seleccionamos la <em>key</em> <code>name</code>. El filtro resultante es:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.spec.containers.[].name&#39;</span> pod.json
</span></span><span style="display:flex;"><span>nginx-container
</span></span><span style="display:flex;"><span>debian-container
</span></span></code></pre></div><p><em>Traduciendo</em> el filtro a castellano: selecciona la <em>key</em> <code>spec</code>; del resultado, selecciona la <em>key</em> <code>containers</code>, itera sobre todos sus elementos (con <code>.[]</code>) y selecciona para cada uno de ellos la <em>key</em> <code>name</code>. Como vemos, la salida son los dos nombres de los contenedores que contiene el <em>manifest</em> del Pod.</p>
<blockquote>
<p>En este caso, es equivalente usar <code>jq -r '.spec.containers[].name' pod.json</code>; en vez de iterar sobre cada elemento de la lista <code>containers</code>.</p>
</blockquote>
<h2 id="seleccionando-un-valor-específico-de-una-lista">Seleccionando un valor específico de una lista</h2>
<h3 id="usando-el-índice-del-array">Usando el índice del <em>array</em></h3>
<p>Si por algún motivo sabes en qué posición se encuentra el objeto en el que estás interesado en la lista (que en JSON está ordenada), puedes acceder al elemento específico indicando su posición en el <em>array</em>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>jq -r &#39;.spec.containers.[0].name&#39; pod.json
</span></span><span style="display:flex;"><span>nginx-container
</span></span></code></pre></div><p>De esta forma puedes seleccionar más de un elemento, indicando la posición de cada elemento que quieres obtener.</p>
<p>En el siguiente ejemplo, obtendo el primer y segundo elemento del <em>arrray</em>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.spec.containers.[0,1].name&#39;</span> pod.json
</span></span><span style="display:flex;"><span>nginx-container
</span></span><span style="display:flex;"><span>debian-container
</span></span></code></pre></div><h3 id="filtrando-los-valores-del-array-mediante-select">Filtrando los valores del <em>array</em> mediante <code>select()</code></h3>
<p>Sin embargo, no es habitual saber en qué posición se encuentra el elemento, sino el valor de alguna de sus <code>keys</code>.</p>
<p>Imagina que quieres obtener el <code>mountPath</code> del contenedor cuyo nombre es <code>debian-container</code>. Esta frase recuerda a una <em>query</em> SQL, ¿no?:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>SELECT &#39;mountPath&#39; FROM pod.json WHERE name=&#39;debian-container&#39;;
</span></span></code></pre></div><p>Jq ofrece la función <code>select()</code> que permite <em>algo así</em>.</p>
<p>Quizás lo primero que se te ocurre probar es algo como:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>jq &#39;select( .spec.containers[].name == &#34;debian-container&#34; )&#39; pod.json
</span></span></code></pre></div><p>El resultado es todo el documento&hellip; ¿?</p>
<p>Una de las cosas más importantes a recordar cuando trabajas con Jq es que lo único que hace Jq es <strong>filtrar</strong> la entrada (para producir una salida).</p>
<p>El <em>filtro</em> en el comando anterior es equivalente a  <code>'. | select( .spec.containers[].name == &quot;debian-container&quot; )'</code>; traduciendo al castellano: usando como entrada todo el objeto JSON, pasa hacia el <em>output</em> los elementos que validen la condición especificada en el <code>select</code>. Como el <code>select</code> es <code>true</code>, porque el objeto de entrada valida la condición indicada en el <code>select</code>, todo el <em>input</em> es mostrado en la salida.</p>
<p>El enfoque que uso es filtrar el documento inicial hasta llegar a la clave en la que hay más de una opción disponible; en este caso, la <em>key</em> <code>containers</code>.
Como <code>containers</code> es una lista (<em>array</em>), explicitamos que lo que queremos pasar al siguiente filtro es <strong>cada uno de sus elementos de manera independiente</strong>, aceptando únicamente aquellos para los que se valide una condición que especifiquemos.</p>
<p>Podemos conseguirlo mediante el filtro <code>.spec.containers[]</code> o usando el operador de iteración sobre la clave <code>containers</code>, que es un <em>array</em>, mediante <code>.spec.containers.[]</code>.</p>
<p>Observa la salida de <code>jq '.spec.containers[]' pod.json</code> comparándola con la de <code>jq '.spec.containers' pod.json</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span># La salida de .spec.containers<span style="color:#719e07">[]</span> son dos objetos JSON independientes: <span style="color:#2aa198">&#39;{1}&#39;</span> y <span style="color:#2aa198">&#39;{2}&#39;</span>
</span></span><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.spec.containers[]&#39;</span> pod.json
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;name&#34;: &#34;nginx-container&#34;,
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;name&#34;: &#34;debian-container&#34;,
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># La salida de .spec.containers es un solo elemento, un array <span style="color:#2aa198">&#39;[{1}, {2}]&#39;</span>
</span></span><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.spec.containers&#39;</span> pod.json  
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    &#34;name&#34;: &#34;nginx-container&#34;,
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    &#34;name&#34;: &#34;debian-container&#34;,
</span></span><span style="display:flex;"><span>     ...
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>La función <a href="https://jqlang.github.io/jq/manual/#select"><code>select()</code></a> puede actuar sobre listas de elementos <em>individuales</em>, como en el primer ejemplo de la documentación de Jq (algo como <code>[1,2,3]</code>) o con elmentos <em>por parejas</em> de <code>clave=valor</code> (que es lo que tenemos en nuestro caso).</p>
<blockquote>
<p>@PeladoNerd se encuentra con problemas al intentar hacer un <code>select</code> en <a href="https://youtu.be/CWcuNti7VR8?t=557">este momento</a>.</p>
</blockquote>
<p><code>select</code> filtra la entrada que recibe y sólo &ldquo;deja pasar&rdquo; lo que resulta en <code>true</code> en la condición:</p>
<figure><img src="/images/240224/select-gandalf.jpg" width="100%">
</figure>

<p>En nuestro caso, tras el filtro de <code>select()</code> sólo tenemos el <em>manifest</em> correspondiente al contenedor que valida la condición <code>name==&quot;debian-container&quot;</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.spec.containers[] | select( .name == &#34;debian-container&#34; )&#39;</span> pod.json
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;name&#34;: &#34;debian-container&#34;,
</span></span><span style="display:flex;"><span>  &#34;image&#34;: &#34;debian&#34;,
</span></span><span style="display:flex;"><span>  &#34;volumeMounts&#34;: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      &#34;name&#34;: &#34;shared-data&#34;,
</span></span><span style="display:flex;"><span>      &#34;mountPath&#34;: &#34;/pod-data&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  &#34;command&#34;: [
</span></span><span style="display:flex;"><span>    &#34;/bin/sh&#34;
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  &#34;args&#34;: [
</span></span><span style="display:flex;"><span>    &#34;-c&#34;,
</span></span><span style="display:flex;"><span>    &#34;echo Hello from the debian container &gt; /pod-data/index.html&#34;
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>De forma gráfica (pulsa sobre la imagen para ampliarla):</p>
<figure><img src="/images/240224/pod.json-spec-containers-select.png" width="100%">
</figure>

<p>A continuación, podemos seguir añadiendo filtros a la salida de <code>select()</code>; el siguiente sería usando la clave <code>.volumeMounts</code> (que vuelve a ser una lista).
En este caso concreto, la lista sólo contiene un elemento, por lo que los dos comandos siguientes producen el mismo resultado:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.spec.containers[] | select ( .name == &#34;debian-container&#34; ) | .volumeMounts[].name&#39;</span> pod.json 
</span></span><span style="display:flex;"><span>shared-data
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ jq -r <span style="color:#2aa198">&#39;.spec.containers[] | select ( .name == &#34;debian-container&#34; ) | .volumeMounts.[].name&#39;</span> pod.json
</span></span><span style="display:flex;"><span>&#34;shared-data&#34;
</span></span></code></pre></div><p>De nuevo, la representación visual del filtro sería (pulsa sobre la imagen para ampliarla):</p>
<figure><img src="/images/240224/pod.json-spec-containers-select-volumemounts.png" width="100%">
</figure>

<p>Si queremos estar seguros de que obtenemos el valor de la <em>key</em> <code>mountPath</code> con nombre <code>shared-data</code> y no el valor de otra <em>key</em> que pueda incluir la lista <code>volumeMounts</code>, podemos usar <code>select()</code> de nuevo:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ jq <span style="color:#2aa198">&#39;.spec.containers[] | select( .name == &#34;debian-container&#34; ) | .volumeMounts[] | select( .name == &#34;shared-data&#34; ) | .mountPath&#39;</span> pod.json
</span></span><span style="display:flex;"><span>&#34;/pod-data&#34;
</span></span></code></pre></div><p>Es decir, de todos los elementos contenidos en el <em>array</em> <code>volumeMounts</code>, <strong>seleccionamos</strong> el que verifica <code>.name == &quot;shared-data&quot;</code>; a continuación, filtramos el contenido para obtener únicamente el valor de la <em>key</em>  <code>mountPath</code>.</p>
<blockquote>
<p><code>select()</code> puede contener cualquier expresión que se evalúe como <code>true</code> o <code>false</code>; en la <a href="https://youtu.be/CWcuNti7VR8?t=688">solución al reto</a>, vemos que se usa una condición en la que se evalúa el valor dos <em>keys</em> usando el operador <a href="https://jqlang.github.io/jq/manual/#and-or-not"><code>and</code></a>.</p>
</blockquote>
<h2 id="resumen-manual-de-supervivencia-para-jq">Resumen: manual de supervivencia para Jq</h2>
<ul>
<li>
<p>Recuerda que Jq procesa una <strong>entrada</strong> mediante un <strong>filtro</strong> para producir una <strong>salida</strong>.</p>
<p>Siempre que puedas, usa <code>jq '&lt;filtro&gt;' ${nombre-fichero}</code>.
Si usas como entrada contenido que llega a través de una <em>pipe</em>, incluye siempre el filtro (incluso cuando no sea necesario, como en el siguiente ejemplo) para reforzar la idea de que Jq <strong>siempre</strong> usa un <strong>filtro</strong>: <code>cat ${nombre-fichero} | jq .</code>.</p>
</li>
<li>
<p>Usa <strong>siempre</strong> comillas (simples) para delimitar el filtro (incluso cuando no sea necesario):</p>
<p><code>jq '.name.containers[].name' pod.json</code>. Si te acostumbras, nunca tendrás problemas si el filtro incluye espacios.</p>
<p>Jq no tiene en cuenta el <em>espacio en blanco</em>, lo que te puede ayudar a formatear filtros complejos para facilitar su visualización (especialmente en <em>scripts</em>):</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>jq -r &#39;.spec.containers[]
</span></span><span style="display:flex;"><span>       | select ( .name == &#34;debian-container&#34; )
</span></span><span style="display:flex;"><span>       | .volumeMounts[].name
</span></span><span style="display:flex;"><span>      &#39; pod.json
</span></span></code></pre></div></li>
<li>
<p>Cuidado con las comillas en la salida del comando Jq.</p>
<p>Recuerda el <em>flag</em> <code>-r</code>; si no te preocupan las comillas, usa <code>-r</code> siempre para evitar problemas en aquellas situaciones en las que sí sean relevantes (como en <em>scripts</em>).</p>
</li>
<li>
<p>Concatena las <em>keys</em> y usa la <em>pipe</em> <strong>interna</strong> de Jq para enlazar filtros.</p>
</li>
<li>
<p>Recuerda que cuando enlazas filtros, la salida de un filtro se convierte en la entrada del siguiente.</p>
</li>
<li>
<p><code>select</code> filtra los valores de la entrada para los que la condición de evalúa como <code>true</code> y sólo esos pasan hacia la salida (o el siguiente filtro).</p>
</li>
</ul></div>

  <aside class="p-share">


  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fonthedock.github.io%2fpost%2f240224-jq-manual-de-supervivencia%2f&amp;source=https%3a%2f%2fonthedock.github.io%2fpost%2f240224-jq-manual-de-supervivencia%2f&amp;title=Jq%3a%20Manual%20De%20Supervivencia" target="_blank" rel="noopener" aria-label="Share on LinkedIn">
    <svg width="2rem" height="2rem" viewBox="0 0 352 352"><path d="M0 40v272c0 21.9 18.1 40 40 40h272c21.9.0 40-18.1 40-40V40c0-21.9-18.1-40-40-40H40C18.1.0.0 18.1.0 40zm312-8c4.6.0 8 3.4 8 8v272c0 4.6-3.4 8-8 8H40c-4.6.0-8-3.4-8-8V40c0-4.6 3.4-8 8-8H312zM59.5 87c0 15.2 12.3 27.5 27.5 27.5s27.5-12.3 27.5-27.5S102.2 59.5 87 59.5 59.5 71.8 59.5 87zM187 157h-1v-21h-45v152h47v-75c0-19.8 3.9-39 28.5-39 24.2.0 24.5 22.4 24.5 40v74h47v-83.5c0-40.9-8.7-72-56.5-72-23 0-38.2 12.6-44.5 24.5zM64 288h47.5V136H64V288z"></path></svg>
    <p>LinkedIn</p>
  </a>

  <a href="https://twitter.com/intent/tweet?hashtags=onthedock&amp;url=https%3a%2f%2fonthedock.github.io%2fpost%2f240224-jq-manual-de-supervivencia%2f&amp;text=Jq%3a%20Manual%20De%20Supervivencia" target="_blank" rel="noopener" aria-label="Share on Twitter" class="share-btn twitter">
    <svg width="2rem" height="2rem" viewBox="0 0 384 312"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5.0-78.8 35.3-78.8 78.8.0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3C20 26 16.1 39.6 16.1 54c0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1.0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4.0-12.6-.4-18.8-1.1C34.9 299 76.3 312 120.8 312c144.9.0 224.1-120 224.1-224.1.0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"></path></svg>
    <p>Twitter</p>
  </a>

  <a href="mailto:?subject=Jq%3a%20Manual%20De%20Supervivencia.&amp;body=Jq%3a%20Manual%20De%20Supervivencia%0a%0ahttps%3a%2f%2fonthedock.github.io%2fpost%2f240224-jq-manual-de-supervivencia%2f%0a" target="_blank" class="share-btn email">
    <svg width="2rem" height="2rem" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"></path></svg>
    <p>Email</p>
  </a>

  <a href="whatsapp://send?text=Jq%3a%20Manual%20De%20Supervivencia%0a%0ahttps%3a%2f%2fonthedock.github.io%2fpost%2f240224-jq-manual-de-supervivencia%2f%0a" target="_blank">
    <svg  width="2rem" height="2rem" viewBox="0 0 24 24">
    <path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3.0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7.0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1.0-5.2 4.2-9.4 9.4-9.4 2.5.0 4.9 1 6.7 2.8s2.8 4.2 2.8 6.7c-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2s0-.5.1-.6.3-.3.4-.5c.2-.1.3-.3.4-.5s0-.4.0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"></path></svg>
    <p>Whatsapp</p>
  </a>


  <div class="searchbar">
      <iframe src="https://duckduckgo.com/search.html?site=https://onthedock.github.io/&prefill=Busca en este sitio usando DuckDuckGo" style="width: 25em;height: 48px" frameborder="0"></iframe>
    </div>
</aside>



  <footer class="article-footer">
    <section>
      <ol class="p-crumb">
        <li><a href="https://onthedock.github.io/">On The Dock</a></li>
        
        <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://onthedock.github.io/post/" itemprop="url"><span itemprop="title">post</span></a></li>
        
        <li>Jq: Manual De Supervivencia</li>
      </ol>

      
      
      
      <ul class="p-facts">
        <li>
          <header><a href="https://onthedock.github.io/categories/">categories</a></header>
          <ul>
            
            <li><a href="https://onthedock.github.io/categories/ops/">ops</a></li>
            
          </ul>
        </li>
      </ul>
      
      
      
      <ul class="p-facts">
        <li>
          <header><a href="https://onthedock.github.io/tags/">tags</a></header>
          <ul>
            
            <li><a href="https://onthedock.github.io/tags/jq/">jq</a></li>
            
          </ul>
        </li>
      </ul>
      
      
    </section>
  </footer>
</article>

<article>
  <div id="disqus_thread"></div>
  <script>
  
  

  

  (function() { 
  var d = document, s = d.createElement('script');
  s.src = 'https://onthedock.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                              

</article>



  
  
  <section>
    <header><span>Latests</span></header>
    <ul class="p-articles thin">
      <li><article class="li sm article-240817-fix-deprecated-googleanalytics 721a9925d96b232673144e71149ab830">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/240817-fix-deprecated-googleanalytics/" class="thumbnail" title="Fix Deprecated &#34;.Site.GoogleAnalytics&#34; error en la plantilla del blog"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/240817-fix-deprecated-googleanalytics/">Fix Deprecated &#34;.Site.GoogleAnalytics&#34; error en la plantilla del blog</a></h2>
        <ul class="p-facts">
          <li><time datetime=" 2024-08-17T11:12:04JST">17 Aug 2024</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article></li><li><article class="li sm article-240525-instalar-ansible-en-un-contenedor c97ab8e16b17aed94b344cbab5c0e844">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/240525-instalar-ansible-en-un-contenedor/" class="thumbnail" title="Instalar Ansible en un contenedor"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/240525-instalar-ansible-en-un-contenedor/">Instalar Ansible en un contenedor</a></h2>
        <ul class="p-facts">
          <li><time datetime=" 2024-05-25T13:41:03JST">25 May 2024</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article></li><li><article class="li sm article-240525-arregla-el-aviso-key-is-stored-in-legacy-trusted 13a856caf20caa3765aa4df566e807cb">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/240525-arregla-el-aviso-key-is-stored-in-legacy-trusted/" class="thumbnail" title="Arregla el aviso &#39;key is stored in legacy trusted.gpg keyring&#39;"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/240525-arregla-el-aviso-key-is-stored-in-legacy-trusted/">Arregla el aviso &#39;key is stored in legacy trusted.gpg keyring&#39;</a></h2>
        <ul class="p-facts">
          <li><time datetime=" 2024-05-25T10:58:33JST">25 May 2024</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article></li><li><article class="li sm article-240224-jq-manual-de-supervivencia 7dbadcc49c0481137e607423ebe65ffa">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/240224-jq-manual-de-supervivencia/" class="thumbnail" title="Jq: Manual De Supervivencia"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/240224-jq-manual-de-supervivencia/">Jq: Manual De Supervivencia</a></h2>
        <ul class="p-facts">
          <li><time datetime=" 2024-02-24T10:00:27JST">24 Feb 2024</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article></li>
    </ul>
  </section>
  
</div>


    </main>

    

    <footer class="l-footer">
      <div class="l-container">
        <p class="attribution">
          
            Handmade with &#9829; by Xavi Aznar 
          
        </p>

        <p class="attribution">
          <a href="https://www.linkedin.com/in/xavieraznarcampos/" target="_blank" >
            <img class="linkedin" src="https://onthedock.github.io//images/linkedin-logo.png" alt="Contacta con  Xavi Aznar en LinkedIn" title="Contacta con Xavi Aznar en LinkedIn">
            Xavi Aznar 
          </a>
        </p>

        <p class="attribution">
          Powered by <a href="https://gohugo.io/">Hugo</a> using a customized version of the <a href="https://github.com/dim0627/hugo_theme_aglaus" class="h-logo">Aglaus</a> theme (designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>).
        </p>

        <p class="attribution">
          <a href="#" class="p-movetop" title="Vuelve arriba" rel="nofollow">&UpTeeArrow;</a> 
        </p>
      </div>
    </footer>

    
  </body>
</html>

